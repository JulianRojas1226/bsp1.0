html(lang="es")
    head
        meta(charset="UTF-8")

        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        title Productos 
        link(rel="stylesheet", href="/css/style.css")
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous")
        
    body 
        HEADER 
            ul.nav.justify-content-center
                li.nav-item
                    a.nav-link.active(aria-current="page" href="#") Active
                li.nav-item
                    a.nav-link(href="/sesion") home
                li.nav-item
                    a.nav-link(href="#") Link

        main(class="mainprod")
            button(id="btn-forminit") abrir
            div(id="formsprod")
                div(class="formscontent")
                    div(class="headerforms")
                        button(id="close-form") X 
                    div(class="bodymodal")
                        details 
                            summary agregar producto
                            form(action="/formprod" method="post" enctype="multipart/form-data")
                                label(for="#") Nombre 
                                input(type="text", name="nombre" id="nombre")
                                label(for="#") Precio 
                                input(type="number", name="precio", id="precio")
                                label(for="#") cantidad 
                                input(type="number", name="cantidad",id="cantidad")
                                select(name="tipo", id="tipo") 
                                    if tipos && tipos.length
                                        each tipo in tipos 
                                            option(value=tipo.id) #{tipo.nombre}
                                    else
                                        option(value="") No hay opciones disponibles
                                select(name="proveedor", id="proveedor") 
                                    if proveedores  && proveedores.length
                                        each proveedor in proveedores
                                            option(value=proveedor.NID) #{proveedor.nombre}
                                    else
                                        option(value="") No hay opciones disponibles
                                input(type="file" name="imagen" id="imagen" class="form-control" required)
                                button(type="submit") ingresar
                        details 
                            summary agregar cantidad 
                            form(action="/cantprod" method="post") 
                                select(name="producto" id="producto") 
                                    if productos && productos.length 
                                        each producto in productos
                                            option(value=producto.id) #{producto.nombre}
                                label(for="#") cantidad
                                input(type="number" id="cantidad" name="cantidad" required min="1")
                                select(name="proveedor", id="proveedor") 
                                    if proveedores  && proveedores.length
                                        each proveedor in proveedores
                                            option(value=proveedor.NID) #{proveedor.nombre}
                                    else
                                        option(value="") No hay opciones disponibles
                                button(type="submit") agregar

            section(id="mostrarproductos")
                if productos && productos.length 
                    each producto in productos 

                        div.card(style="width: 18rem" class="cartaprod")
                            img.card-img-top(src=producto.dir alt="...")
                            div.card-body
                                h5.card-title #{producto.nombre}
                                p.card-text  Precio: #{producto.precio}   Cantidad: #{producto.cantidad}
                                details 
                                    summary ver mas 
                                    p.card-text tipo: #{producto.tipo}
                                    if proveedores && proveedores.length
                                        each proveedor in proveedores
                                            if producto.proveedor == proveedor.NID
                                                p Proveedor: #{proveedor.nombre}
                                    else
                                        p No hay informaci√≥n de proveedores disponible.

                else 
                    p no hay productos

        script(src="/js/main.js")

        
        
        
        

